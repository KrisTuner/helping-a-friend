# Шпаргалка по Git

## Основные команды

1. **Инициализация репозитория**
   - `git init` — инициализирует новый Git-репозиторий (создаёт скрытую папку .git)
   - `git init --bare` — создаёт "голой" репозиторий без рабочей директории (для серверов)

2. **Клонирование репозитория**
   - `git clone <url>` — клонирует удалённый репозиторий
   - `git clone --branch <ветка> <url>` — клонирует конкретную ветку
   - `git clone --depth 1 <url>` — поверхностное клонирование (только последний коммит)

3. **Проверка статуса**
   - `git status` — показывает состояние файлов:
     - Untracked — не отслеживается Git
     - Modified — изменён, но не в индексе
     - Staged — добавлен в индекс (зелёный в git status -s)
   - `git status -s` — краткий статус (?? — новый, M — изменённый, A — добавленный)

4. **Добавление изменений**
   - `git add <файл>` — добавляет файл в индекс
   - `git add .` — добавляет все изменения
   - `git add -u` — добавляет только изменённые/удалённые файлы
   - `git add -p` — интерактивное добавление частей файлов

5. **Коммит изменений**
   - `git commit -m "Сообщение"` — стандартный коммит
   - `git commit -am "Сообщение"` — add + commit (кроме новых файлов)
   - `git commit --amend` — исправить последний коммит
   - Хорошие практики сообщений:
     ```
     Краткое описание (до 50 символов)

     Подробное описание (если нужно)
     - Пункт 1
     - Пункт 2
     ```

6. **Просмотр истории коммитов**
   - `git log` — полная история
   - `git log --oneline` — сокращённый вид (первые 7 символов хеша)
   - `git log -p` — с изменениями в коде
   - `git log --graph --oneline --decorate` — визуализация ветвления
   - `git show <хэш>` — детали конкретного коммита
   - Хеш коммита — уникальный SHA-1 идентификатор (например, a1b2c3d)

7. **Работа с ветками**
   - `git branch` — список локальных веток
   - `git branch -a` — все ветки (включая удалённые)
   - `git checkout <ветка>` — переключение на ветку
   - `git checkout -b <ветка>` — создание и переключение
   - `git branch -m <новое_имя>` — переименование ветки
   - HEAD — указатель на текущий коммит/ветку

8. **Слияние веток**
   - `git merge <ветка>` — сливает ветку в текущую
   - `git merge --no-ff <ветка>` — запрещает fast-forward
   - `git rebase <ветка>` — перебазирует текущую ветку

9. **Удаление веток**
   - `git branch -d <ветка>` — безопасное удаление
   - `git branch -D <ветка>` — принудительное удаление
   - `git push origin --delete <ветка>` — удаление удалённой ветки

10. **Работа с удалёнными репозиториями**
    - `git remote -v` — список удалённых репозиториев
    - `git remote add <имя> <url>` — добавить удалённый реп
    - `git fetch <имя>` — получить изменения без слияния
    - `git pull <имя> <ветка>` — fetch + merge
    - `git push <имя> <ветка>` — отправить изменения
    - `git push -u origin main` — установить upstream

11. **Отмена изменений**
    - `git checkout -- <файл>` — откат изменений файла
    - `git reset HEAD <файл>` — убрать из индекса
    - `git reset --soft <хэш>` — отменить коммиты, сохранив изменения
    - `git reset --hard <хэш>` — полный откат (осторожно!)
    - `git revert <хэш>` — создать коммит-отмену

12. **Теги**
    - `git tag` — список тегов
    - `git tag v1.0` — лёгкий тег
    - `git tag -a v1.0 -m "Версия 1.0"` — аннотированный тег
    - `git push origin v1.0` — отправить тег на сервер

## Полезные советы

- Используйте `.gitignore`, чтобы исключить файлы и папки из отслеживания.
- Регулярно делайте коммиты, чтобы сохранить прогресс.
- Пишите осмысленные сообщения коммитов для лучшего понимания истории изменений.

### Лучшие практики
1. Делайте атомарные коммиты (одна логическая правка = один коммит)
2. Используйте понятные сообщения:
   - fix: исправить баг с авторизацией
   - feat: добавить пагинацию
   - docs: обновить README.md
3. Перед коммитом проверяйте изменения:
   - `git diff`
   - `git diff --staged`
4. Для сложных правок используйте `git add -p`